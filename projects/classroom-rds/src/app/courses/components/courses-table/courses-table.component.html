<form [formGroup]="searchForm">
  <div fxLayout="row wrap" fxLayoutAlign="space-around" fxLayoutGap="5px" fxLayout.lt-md="column wrap">
    <mat-form-field fxFlex="0 1 calc(50% - 5px)" fxFlex.lt-md="100%" appearance="outline">
      <mat-label>Busca una clase por nombre</mat-label>
      <input matInput type="text" aria-label="Título del al actividad" formControlName="courseName"
        (keyup)="applyFilter()" (click)="searching=true">
      <button mat-icon-button matSuffix (click)="courseName=''; applyFilter(); searching=!searching" color="primary">
        <mat-icon *ngIf="!searching">search</mat-icon>
        <mat-icon *ngIf="searching">clear</mat-icon>
      </button>
    </mat-form-field>
    <mat-form-field fxFlex="0 1 calc(50% - 5px)" fxFlex.lt-md="100%" appearance="outline">
      <mat-label>Fecha de creación</mat-label>
      <input matInput formControlName="creationTimeSearch" [matDatepicker]="picker" (dateInput)="applyFilter()">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
  </div>
</form>
<mat-table #table class="full-width-table table-hover" matSort aria-label="Course work table">
  <ng-container matColumnDef="courseState">
    <mat-header-cell class="small-th" *matHeaderCellDef mat-sort-header>Estado</mat-header-cell>
    <mat-cell *matCellDef="let row">
      <div [ngSwitch]="row.courseState">
        <div *ngSwitchCase="'COURSE_STATE_UNSPECIFIED'">
          <fa-icon matTooltip="{{row.courseState}}" matTooltipPosition="above" class="text-primary"
            [icon]="faExclamation" size="lg"></fa-icon>
        </div>
        <div *ngSwitchCase="'ACTIVE'">
          <fa-icon matTooltip="{{row.courseState}}" matTooltipPosition="above" class="text-success" [icon]="faCheck"
            size="lg"></fa-icon>
        </div>
        <div *ngSwitchCase="'ARCHIVED'">
          <fa-icon matTooltip="{{row.courseState}}" matTooltipPosition="above" class="text-warning"
            [icon]="faFileArchive" size="lg"></fa-icon>
        </div>
        <div *ngSwitchCase="'PROVISIONED'">
          <fa-icon matTooltip="{{row.courseState}}" matTooltipPosition="above" class="text-info" [icon]="faScrewdriver"
            size="lg"></fa-icon>
        </div>
        <div *ngSwitchCase="'DECLINED'">
          <fa-icon matTooltip="{{row.courseState}}" matTooltipPosition="above" class="text-danger" [icon]="faTimes"
            size="lg"></fa-icon>
        </div>
        <div *ngSwitchCase="'SUSPENDED'">
          <fa-icon matTooltip="{{row.courseState}}" matTooltipPosition="above" class="text-dark" [icon]="faBan"
            size="lg"></fa-icon>
        </div>
      </div>
    </mat-cell>
  </ng-container>
  <!-- Title Column -->
  <ng-container matColumnDef="name">
    <mat-header-cell class="large-th" *matHeaderCellDef mat-sort-header>Nombre</mat-header-cell>
    <mat-cell *matCellDef="let row">{{row.name}}
    </mat-cell>
  </ng-container>
  <ng-container matColumnDef="section">
    <mat-header-cell class="medium-th" *matHeaderCellDef mat-sort-header>Nivel</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{row.section}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="room">
    <mat-header-cell class="medium-th" *matHeaderCellDef mat-sort-header>Grado</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{row.room}} </mat-cell>
  </ng-container>
  <!-- Buttons column -->
  <ng-container matColumnDef="acciones">
    <mat-header-cell class="medium-th" *matHeaderCellDef> Acciones </mat-header-cell>
    <mat-cell *matCellDef="let row">
      <fa-icon mat-icon-button (click)="onDetails(row)" matTooltip="Información" matTooltipPosition="above"
        [icon]="faEdit"></fa-icon>&nbsp;&nbsp;
      <fa-icon mat-icon-button (click)="onAddTeacher(row)" matTooltip="Maestros del curso" matTooltipPosition="above"
        [icon]="faUserPlus"></fa-icon>
    </mat-cell>
  </ng-container>
  <mat-header-row mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns;" class="element-row" [routerLink]="[row.id]">
  </mat-row>
  <!-- Row shown when there is no matching data.-->
  <mat-header-row class="mat-row" *matNoDataRow>
    <mat-row class="mat-cell" colspan="4">
      No hay clases que coincidan con la búsqueda "{{courseName}}"
    </mat-row>
  </mat-header-row>
</mat-table>
<mat-paginator [ngStyle]="{'background-color':'inherit'}" #paginator [length]="dataSource?.data.length" [pageIndex]="0"
  [pageSize]="10" [pageSizeOptions]="[10, 25, 50, 100, 250]">
</mat-paginator>
